(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"35x6":function(e,n,t){"use strict";t.r(n);t("2qtc");var a=t("kLXV"),l=(t("DZo9"),t("8z0m")),r=(t("5NDa"),t("5rEg")),c=(t("+L6B"),t("2/Rp")),i=(t("P2fV"),t("NJEC")),o=t("tJVT"),u=t("q1tI"),s=t.n(u),d=t("Hx5s"),f=t("Qiat"),m=t("67Hk"),p=t("xvlK"),v=t("z7Xi"),E=t("9kvl"),b=t("xKgJ"),h=function(e){var n=Object(u["useRef"])(),t=Object(u["useState"])(!1),h=Object(o["a"])(t,2),g=h[0],O=h[1],j=Object(u["useState"])(),w=Object(o["a"])(j,2),x=w[0],y=w[1],C=Object(u["useRef"])(null),z=Object(u["useState"])(null),I=Object(o["a"])(z,2),R=I[0],J=I[1],S=[{title:"ID",dataIndex:"id"},{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u6700\u65b0\u7248\u672c",dataIndex:"versions",render:function(e,n){return s.a.createElement(s.a.Fragment,null,n.versions.length>0?n.versions[n.versions.length-1].version:"\u8bf7\u4e0a\u4f20\u7248\u672c!!!")}},{title:"\u64cd\u4f5c",dataIndex:"option",valueType:"option",render:function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{onClick:function(){E["d"].push("/pack/plugin/".concat(t.id))}},"\u66f4\u65b0\u540d\u79f0"),s.a.createElement("a",{onClick:function(){O(!0),y(t)}},"\u65b0\u589e\u7248\u672c"),s.a.createElement(i["a"],{title:"\u786e\u8ba4\u8981\u5220\u9664\u5417\uff1f",onConfirm:function(){Object(m["i"])(t.id).finally((function(){var e;null===(e=n.current)||void 0===e||e.reload()}))}},s.a.createElement("a",{href:""},"\u5220\u9664")))}}];return s.a.createElement(d["b"],null,s.a.createElement("div",null,s.a.createElement(f["a"],{headerTitle:"",search:!1,actionRef:n,rowKey:"key",columns:S,onChange:function(e,n,t){var a=t;console.log(a)},toolBarRender:function(e,n){n.selectedRows;return[s.a.createElement(c["a"],{type:"primary",onClick:function(){return E["d"].push("/pack/plugin/create")}},s.a.createElement(p["a"],null)," \u65b0\u5efa")]},request:function(e){return k(e.current-1,null===e||void 0===e?void 0:e.pageSize)}}),s.a.createElement(a["a"],{title:"\u65b0\u5efa\u7248\u672c",visible:g,onCancel:function(e){O(!1)},onOk:function(e){var n,t={fileName:R,version:null===(n=C.current)||void 0===n?void 0:n.state.value};Object(m["e"])(x.id,t).finally((function(){O(!1),null===x||void 0===x||x.versions.push(t)}))}},s.a.createElement("div",null,s.a.createElement(r["a"],{ref:C,placeholder:"\u8bf7\u8f93\u5165\u7248\u672c\u53f7"}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(l["a"],{action:location.origin+"/doraemon/api/v1/pack/plugins/version/zip",headers:{Authorization:"".concat(Object(b["c"])())},name:"zip",directory:!1,onChange:function(e){J(e.file.response)}},s.a.createElement(c["a"],null,s.a.createElement(v["a"],null)," \u4e0a\u4f20\u7248\u672c"))))))};function k(e,n){return Object(m["p"])(e,n).then((function(e){return{data:e.content,success:!0,total:e.totalElements}}),(function(e){return{data:[],success:!1,total:0}}))}n["default"]=Object(E["a"])((function(e){var n=e.pack;return{pack:n}}))(h)}}]);